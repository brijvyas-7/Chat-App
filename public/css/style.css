/* CSS: Fixed header & input, scrollable messages */
:root {
  --header-height: 48px;
  --input-height: 56px;
  --reply-height: 40px;
}
html, body {
  margin: 0; padding: 0; height: 100%; overflow: hidden;
}
body { position: relative; }

/* Header fixed top */
.header {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--header-height);
  background: #0d6efd; color: #fff;
  display: flex; align-items: center;
  padding: 0 1rem;
  z-index: 100;
}

/* Chat container between header and input */
.chat-container {
  position: absolute;
  top: var(--header-height);
  bottom: var(--input-height);
  left: 0; right: 0;
  display: flex; flex-direction: column;
  overflow: hidden;
}

/* Scrollable messages area */
.messages {
  flex: 1 1 auto;
  overflow-y: auto;
  padding: 0.5rem 1rem;
  -webkit-overflow-scrolling: touch;
}

/* Reply preview above input */
.reply-preview {
 
  height: var(--reply-height);
  background: #f1f1f1;
  border-top: 1px solid #0d6efd;
  display: flex; align-items: center;
  padding: 0 1rem;
  z-index: 90;
}

/* Input fixed bottom */
.input-form {
  position: fixed;
  bottom: 0;
  left: 0; right: 0;
  height: var(--input-height);
  display: flex; align-items: center;
  padding: 0 1rem;
  background: #fff;
  border-top: 1px solid #ccc;
  z-index: 100;
}
.input-form input {
  flex: 1 1 auto;
}

/* Message bubbles */
.message {
  max-width: 75%; margin-bottom: 0.5rem; padding: 0.5rem;
  border-radius: 0.75rem; background: #e9ecef;
}
.message.you { background: #d4f8cb; margin-left: auto; }

/* Typing indicator styling */
.message.typing { opacity: 0.6; }
.message.typing .dot {
  width: 8px; height: 8px; margin-right: 4px;
  background: #999; border-radius: 50%;
  animation: bounce 1s infinite;
}
@keyframes bounce { 0%,80%,100% { transform: scale(0); } 40% { transform: scale(1); } }

/* Dark mode */
body.dark { background: #111; color: #eee; }
body.dark .header { background: #333; }
body.dark .message { background: #333; color: #eee; }
